{% extends "base.html" %}
{% block content %}
<h1 class="text-2xl font-bold mb-4">Editar Usuario</h1>
<form method="POST" action="{% url 'user-edit-submit' user.id_card %}" class="space-y-4">
    {% csrf_token %}
    <input type="text" name="name" value="{{ user.name }}" required class="block w-full border px-3 py-2 rounded" />
    <input type="email" name="email" value="{{ user.email }}" required class="block w-full border px-3 py-2 rounded" />
    <input type="password" name="password" placeholder="Nueva contraseÃ±a (opcional)" class="block w-full border px-3 py-2 rounded" />
    <input type="text" name="phone" value="{{ user.phone }}" class="block w-full border px-3 py-2 rounded" />
    
    <select name="role" required class="block w-full border px-3 py-2 rounded">
        {% for role in roles %}
        <option value="{{ role.id }}" {% if user.role.id == role.id %}selected{% endif %}>{{ role.name }}</option>
        {% endfor %}
    </select>

    <select name="warehouse" class="block w-full border px-3 py-2 rounded">
        <option value="">-- Bodega (opcional) --</option>
        {% for w in warehouses %}
        <option value="{{ w.id }}" {% if user.warehouse and user.warehouse.id == w.id %}selected{% endif %}>{{ w.name }}</option>
        {% endfor %}
    </select>

    <label class="block">
        <input type="checkbox" name="status" {% if user.status %}checked{% endif %} /> Activo
    </label>

    <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Actualizar</button>
</form>
{% endblock %}
