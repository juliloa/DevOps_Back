{% extends 'base.html' %}

{% block content %}
<div class="p-6 max-w-4xl mx-auto">
    <div class="flex justify-between items-center mb-4">
        <h1 class="text-3xl font-bold">{{ producto.name }}</h1>
    </div>

    <p class="text-gray-700 mb-6">{{ producto.description }}</p>

    <h2 class="text-2xl font-semibold mb-4">Variantes disponibles</h2>
    <a href="{% url 'variant-create' producto.id %}" class="inline-block mb-4 bg-green-600 text-white px-4 py-2 rounded">
        + Crear Variante
    </a>

    <div class="space-y-4">
        {% for variante in variantes %}
            <div class="border p-4 rounded bg-gray-50">
                <p><strong>Atributos:</strong>
                    <ul class="list-disc list-inside">
                        {% for key, value in variante.attributes.items %}
                            <li>{{ key|capfirst }}: {{ value }}</li>
                        {% endfor %}
                    </ul>
                </p>

                <p><strong>Precio:</strong> ${{ variante.price }}</p>
                <p><strong>Stock:</strong> {{ variante.inventory.quantity|default:"N/A" }}</p>
                <p><strong>Bodega:</strong> {{ variante.inventory.warehouse.name|default:"N/A" }}</p>
                <div class="mt-2 space-x-2">
                    <a href="{% url 'variant-edit' variante.id %}" class="text-blue-600 hover:underline">Editar</a>
                    <a href="{% url 'variant-delete' variante.id %}" class="text-red-600 hover:underline">Eliminar</a>
                </div>
            </div>
        {% empty %}
            <p>No hay variantes para este producto.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
